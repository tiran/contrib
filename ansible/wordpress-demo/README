Based on http://www.severalnines.com/blog/wordpress-application-clustering-using-kubernetes-haproxy-and-keepalived

Changes:

 MySQL replication controller instead of plain MySQL pod
 NodePort service
 Custodia integration
 custom entry points for go-secret

Custodia setup
--------------

mkdir -p /var/lib/custodia /var/lib/custodia/client
cp gustodia /var/lib/custodia/client/go-custodia

modify example "custodia.conf"
set [global] server_socket = /var/lib/custodia/client/server_socket

curl --unix-socket /var/lib/custodia/client/server_socket \
    -H "REMOTE_USER: curl" \
    -X POST \
    http://localhost/secrets/wordpress/
curl --unix-socket /var/lib/custodia/client/server_socket \
    -H "REMOTE_USER: curl" \
    -H "Content-Type: application/json" \
    -X PUT \
    -d '{"type": "simple", "value": "yourpassword"}' \
    http://localhost/secrets/wordpress/db_password

